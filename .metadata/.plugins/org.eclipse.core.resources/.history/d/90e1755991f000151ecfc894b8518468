package messages;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

import utilities.Constants;

public class Message {
	private Header header;
	private String body;
	
	public Message(Header header) {
		this.header = header;
		this.body = "";
	}
	
	public void setBody(String body) {
		this.body = body;
	}
	
	public String toString() {
		return header.getMessageType() + " " + header.getVersion() + " "
				+ header.getSenderId() + " " + Constants.sha256(header.getFileId()) + " " + 
				header.getChunkNo() + " " + header.getReplicationDeg() + " " + Constants.CR + Constants.LF +
				Constants.CR + Constants.LF + body;
	}
	
	public static String getSenderIdFromMsg(String message) {
		String[] splited = message.split("\\s+");
		return splited;
	}
}
