package utilities;

import java.util.ArrayDeque;
import java.util.Arrays;
import java.util.Deque;

public class Utilities {
	// From internet: http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays
	public static byte[] concatenateBytes(byte[]a, byte[] b) {
		byte[] c = new byte[a.length + b.length];
		System.arraycopy(a, 0, c, 0, a.length);
		System.arraycopy(b, 0, c, a.length, b.length);
		return c;
	}
	// From internet: http://codereview.stackexchange.com/questions/46220/find-byte-in-byte-with-java
	public static int findString(byte[] input, byte[] searchedFor) {
		//convert byte[] to Byte[]
	    Byte[] searchedForB = new Byte[searchedFor.length];
	    for(int x = 0; x<searchedFor.length; x++){
	        searchedForB[x] = searchedFor[x];
	    }

	    int idx = -1;

	    //search:
	    Deque<Byte> q = new ArrayDeque<Byte>(input.length);
	    for(int i=0; i<input.length; i++){
	        if(q.size() == searchedForB.length){
	            //here I can check
	            Byte[] cur = q.toArray(new Byte[]{});
	            if(Arrays.equals(cur, searchedForB)){
	                //found!
	                idx = i - searchedForB.length;
	                break;
	            } else {
	                //not found
	                q.pop();
	                q.addLast(input[i]);
	            }
	        } else {
	            q.addLast(input[i]);
	        }
	    }

	    return idx;
    }
}
